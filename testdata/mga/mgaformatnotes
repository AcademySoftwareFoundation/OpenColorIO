
From what I see the FCP LUT implementation is totally wrong; the .mga format from Pandora is actually a 1D LUT only - while FCP uses it as a 3D Cube; the cube also uses 16 points, not 17 like every other system that I've worked with... 


Pandora 3D Lut file format

Pandora 3D Lut files are ASCII text files with .m3d extension. They share the format with Pandora MegaGamma LUT files, with some fixed values to identify them as a 3D lut to Platinum.  To access files place them into /pogle/virtual, then click on the file in the Black Hole.  The Pixi, Data Revolution and standard dual board revolutions allow 17 point 3D cubes.  The CDL Daily system also allows 33-point cubes.
The file starts with a header that is used for identification in the Vault

#HEADER
#filename:     test.mga
#type:         Cube file
#format:       1.0
#created:      1st January 2010
#owner:        pandora
#title:        Pandora 3D Lut
#comment:      Example 3D LUT file.
#END
Then the following items must be defined.  

channel, which is position in signal path.  For 3D luts, this must be 3D.

channel 3d
in, defines the number of entries in the cube.  Each entry must have a separate line of data in the data section.

in 4913 (17-point cube)
in 35937 (33-point cube - Daily system only)
out, which is the size (range) of each entry.  For 3D cubes this should be 65536.

out 65536 (16 bit)
format, whether the data is defined as a set of points or a lookup table.  For 3D cubes this must be points.

format points
Each component (red, green or blue) can be defined in separate blocks.  However, for 3D cubes the three components would normally be defined together, as follows:
values red green blue (index (values), then red, green and blue data)
red green blue (red green and blue data - one line for each value without the preceeeding index)

This is then followed by the data.  For example:
values     red  green  blue
0     0   0   0
1     0   0   4096
2     0   0   8192
[...]
4910     65535   65535   57344
4911     65535   65535   61440
4912     65535   65535   65535

17-point bypass example
